!function(u,P,z){"use strict";var _="ht",C=u[_],g=null,N=Math,l=N.PI,U=N.cos,B=N.sin,t=N.abs,M=N.max,V=N.sqrt,d=1e-5,f=C.Default,i=f.def,I=f.startAnim,n=f.createMatrix,L=f.transformVec,J=f.getInternal(),A=J.addMethod,E=J.superCall,w=J.toPointsArray,$=J.createNormals,X=J.toFloatArray,h=J.glMV,F=J.batchShape,K=J.createNodeMatrix,Y=J.getFaceInfo,S=J.transformAppend,o=J.drawFaceInfo,m=J.createAnim,j=J.cube(),x=j.is,b=j.vs,Z=j.uv,e=J.ui(),s=C.Node,R=C.Shape,c="h",D="v",q="front",O="back",y="left",p="right",T="top",r="bottom",W="dw.expanded",G=".expanded",H="dw.angle",k=".angle",v=function(x,g,U){i(_+"."+x,g,U)},a=function(u,j,M){M?u.push(j.x,j.y):u.push(j.x,j.y,j.z)},Q=[1,0,0],Ln=function(e,m,j,Z){var O,s,w,H,B=0,R=[];if(Z)for(O=Z.length;O>B;B+=3)s=Z[B],w=Z[B+1],H=Z[B+2],R.push(new Vi([new Rf([m[3*s],m[3*s+1],m[3*s+2]],Q,j?[j[2*s],j[2*s+1],0]:g),new Rf([m[3*w],m[3*w+1],m[3*w+2]],Q,j?[j[2*w],j[2*w+1],0]:g),new Rf([m[3*H],m[3*H+1],m[3*H+2]],Q,j?[j[2*H],j[2*H+1],0]:g)],e));else for(O=m.length;O>B;B+=3)s=B,w=B+1,H=B+2,R.push(new Vi([new Rf([m[3*s],m[3*s+1],m[3*s+2]],Q,j?[j[2*s],j[2*s+1],0]:g),new Rf([m[3*w],m[3*w+1],m[3*w+2]],Q,j?[j[2*w],j[2*w+1],0]:g),new Rf([m[3*H],m[3*H+1],m[3*H+2]],Q,j?[j[2*H],j[2*H+1],0]:g)],e));return R},cb=[y,q,p,O,T,r],Mo=cb.concat("csg"),qi=[0,6,12,18,24,30],Hj=function(J,P,z){for(var U=K(J),$=[],I=0;6>I;I++)for(var G=cb[I],q=qi[I],t=z?P.getFaceUv(J,G):g,H=z?P.getFaceUvScale(J,G):g,r=z?P.getFaceUvOffset(J,G):g,y=0;2>y;y++){var T,C,h,N=x[q+3*y],o=x[q+3*y+1],M=x[q+3*y+2];if(z){if(t){var F=8*I;T=[t[2*N-F],t[2*N+1-F],0],C=[t[2*o-F],t[2*o+1-F],0],h=[t[2*M-F],t[2*M+1-F],0]}else T=[Z[2*N],Z[2*N+1],0],C=[Z[2*o],Z[2*o+1],0],h=[Z[2*M],Z[2*M+1],0];H&&(T[0]*=H[0],T[1]*=H[1],C[0]*=H[0],C[1]*=H[1],h[0]*=H[0],h[1]*=H[1]),r&&(T[0]+=r[0],T[1]+=r[1],C[0]+=r[0],C[1]+=r[1],h[0]+=r[0],h[1]+=r[1])}$.push(new Vi([new Rf(L([b[3*N],b[3*N+1],b[3*N+2]],U),Q,T),new Rf(L([b[3*o],b[3*o+1],b[3*o+2]],U),Q,C),new Rf(L([b[3*M],b[3*M+1],b[3*M+2]],U),Q,h)],J))}return dh.$15n($)},up=function(j,R){var E,z=j.data.getAttaches();if(z&&z.each(function(B){B instanceof ms&&B.s("attach.operation")&&(E||(E=[]),E.push(B))}),E){var l;cb.forEach(function(Z){var h=Ln(Z,j[Z].vs,j[Z].tuv);l=l?l.concat(h):h}),l=dh.$15n(l),E.forEach(function(L){var H=L.s("attach.operation");l[H]&&(l=l[H](Hj(L,j.gv,j.csg.tuv)))}),cb.forEach(function(f){f=j[f],f.vs=[],f.tuv&&(f.tuv=[])}),l.$19n().forEach(function(b){var m=b.$10n;if(m instanceof ms){if(m.s("attach.cull"))return;m="csg"}for(var r=j[m],I=r.vs,W=r.tuv,c=b.$9n,y=2;y<c.length;y++)a(I,c[0].$24n),a(I,c[y-1].$24n),a(I,c[y].$24n),W&&(a(W,c[0].uv,!0),a(W,c[y-1].uv,!0),a(W,c[y].uv,!0))})}Mo.forEach(function(s){var F=j[s];F.visible&&F.vs.length?(F.ns=$(F.vs),X(F,"vs"),X(F,"tuv")):delete j[s]}),R&&(F(j,g,R),j.clear())};A(f,{createFrameModel:function(u,G,X,r){u=u==g?.07:u,G=G==g?u:G,X=X==g?u:X,r=r?r:{};var l=r.top,x=r.bottom,A=r.left,D=r.right,E=r.front,K=r.back,J=[],R=[];return E===!0?(J.push(-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5),R.push(0,0,0,1,1,1,1,1,1,0,0,0)):E===!1||(J.push(-.5,.5,.5,-.5,-.5,.5,-.5+u,-.5,.5,-.5+u,-.5,.5,-.5+u,.5,.5,-.5,.5,.5,.5-u,.5,.5,.5-u,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5-u,.5,.5,-.5+u,.5,.5,-.5+u,.5-G,.5,.5-u,.5-G,.5,.5-u,.5-G,.5,.5-u,.5,.5,-.5+u,.5,.5,-.5+u,-.5+G,.5,-.5+u,-.5,.5,.5-u,-.5,.5,.5-u,-.5,.5,.5-u,-.5+G,.5,-.5+u,-.5+G,.5),R.push(0,0,0,1,u,1,u,1,u,0,0,0,1-u,0,1-u,1,1,1,1,1,1,0,1-u,0,u,0,u,G,1-u,G,1-u,G,1-u,0,u,0,u,1-G,u,1,1-u,1,1-u,1,1-u,1-G,u,1-G)),K===!0?(J.push(-.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5),R.push(1,0,0,1,1,1,0,1,1,0,0,0)):K===!1||(J.push(-.5,.5,-.5,-.5+u,-.5,-.5,-.5,-.5,-.5,-.5+u,-.5,-.5,-.5,.5,-.5,-.5+u,.5,-.5,.5-u,.5,-.5,.5,-.5,-.5,.5-u,-.5,-.5,.5,-.5,-.5,.5-u,.5,-.5,.5,.5,-.5,-.5+u,.5,-.5,.5-u,.5-G,-.5,-.5+u,.5-G,-.5,.5-u,.5-G,-.5,-.5+u,.5,-.5,.5-u,.5,-.5,-.5+u,-.5+G,-.5,.5-u,-.5,-.5,-.5+u,-.5,-.5,.5-u,-.5,-.5,-.5+u,-.5+G,-.5,.5-u,-.5+G,-.5),R.push(1,0,1-u,1,1,1,1-u,1,1,0,1-u,0,u,0,0,1,u,1,0,1,u,0,0,0,1-u,0,u,G,1-u,G,u,G,1-u,0,u,0,1-u,1-G,u,1,1-u,1,u,1,1-u,1-G,u,1-G)),A===!0?(J.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5),R.push(0,0,0,1,1,1,1,1,1,0,0,0)):A===!1||(J.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5+X,-.5,-.5,-.5+X,-.5,.5,-.5+X,-.5,.5,-.5,-.5,.5,.5-X,-.5,-.5,.5-X,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5-X,-.5,.5,-.5+X,-.5,.5-G,-.5+X,-.5,.5-G,.5-X,-.5,.5-G,.5-X,-.5,.5,.5-X,-.5,.5,-.5+X,-.5,-.5+G,-.5+X,-.5,-.5,-.5+X,-.5,-.5,.5-X,-.5,-.5,.5-X,-.5,-.5+G,.5-X,-.5,-.5+G,-.5+X),R.push(0,0,0,1,X,1,X,1,X,0,0,0,1-X,0,1-X,1,1,1,1,1,1,0,1-X,0,X,0,X,G,1-X,G,1-X,G,1-X,0,X,0,X,1-G,X,1,1-X,1,1-X,1,1-X,1-G,X,1-G)),D===!0?(J.push(.5,.5,-.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,.5,.5,.5,-.5,.5,.5,.5),R.push(1,0,0,1,1,1,0,1,1,0,0,0)):D===!1||(J.push(.5,.5,-.5,.5,-.5,-.5+X,.5,-.5,-.5,.5,-.5,-.5+X,.5,.5,-.5,.5,.5,-.5+X,.5,.5,.5-X,.5,-.5,.5,.5,-.5,.5-X,.5,-.5,.5,.5,.5,.5-X,.5,.5,.5,.5,.5,-.5+X,.5,.5-G,.5-X,.5,.5-G,-.5+X,.5,.5-G,.5-X,.5,.5,-.5+X,.5,.5,.5-X,.5,-.5+G,-.5+X,.5,-.5,.5-X,.5,-.5,-.5+X,.5,-.5,.5-X,.5,-.5+G,-.5+X,.5,-.5+G,.5-X),R.push(1,0,1-X,1,1,1,1-X,1,1,0,1-X,0,X,0,0,1,X,1,0,1,X,0,0,0,1-X,0,X,G,1-X,G,X,G,1-X,0,X,0,1-X,1-G,X,1,1-X,1,X,1,1-X,1-G,X,1-G)),l===!0?(J.push(.5,.5,.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,.5),R.push(1,1,1,0,0,0,0,0,0,1,1,1)):l===!1||(J.push(.5,.5,.5,.5,.5,-.5,.5-u,.5,-.5,.5-u,.5,-.5,.5-u,.5,.5,.5,.5,.5,-.5+u,.5,.5,-.5+u,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5+u,.5,.5,.5-u,.5,.5,.5-u,.5,.5-X,-.5+u,.5,.5-X,-.5+u,.5,.5-X,-.5+u,.5,.5,.5-u,.5,.5,.5-u,.5,-.5+X,.5-u,.5,-.5,-.5+u,.5,-.5,-.5+u,.5,-.5,-.5+u,.5,-.5+X,.5-u,.5,-.5+X),R.push(1,1,1,0,1-u,0,1-u,0,1-u,1,1,1,u,1,u,0,0,0,0,0,0,1,u,1,1-u,1,1-u,1-X,u,1-X,u,1-X,u,1,1-u,1,1-u,X,1-u,0,u,0,u,0,u,X,1-u,X)),x===!0?(J.push(.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,-.5,-.5,.5),R.push(1,0,0,1,1,1,0,1,1,0,0,0)):x===!1||(J.push(.5,-.5,.5,.5-u,-.5,-.5,.5,-.5,-.5,.5-u,-.5,-.5,.5,-.5,.5,.5-u,-.5,.5,-.5+u,-.5,.5,-.5,-.5,-.5,-.5+u,-.5,-.5,-.5,-.5,-.5,-.5+u,-.5,.5,-.5,-.5,.5,.5-u,-.5,.5,-.5+u,-.5,.5-X,.5-u,-.5,.5-X,-.5+u,-.5,.5-X,.5-u,-.5,.5,-.5+u,-.5,.5,.5-u,-.5,-.5+X,-.5+u,-.5,-.5,.5-u,-.5,-.5,-.5+u,-.5,-.5,.5-u,-.5,-.5+X,-.5+u,-.5,-.5+X),R.push(1,0,1-u,1,1,1,1-u,1,1,0,1-u,0,u,0,0,1,u,1,0,1,u,0,0,0,1-u,0,u,X,1-u,X,u,X,1-u,0,u,0,1-u,1-X,u,1,1-u,1,u,1,1-u,1-X,u,1-X)),{vs:J,uv:R}}}),A(C.Style,{"dw.flip":!1,"dw.s3":[.999,.999,.5],"dw.t3":z,"dw.expanded":!1,"dw.toggleable":!0,"dw.axis":"left","dw.start":0,"dw.end":l/2,"dw.angle":0,"attach.cull":!1,"attach.operation":"subtract"},!0),cb.forEach(function(R){var c={};c[R+G]=!1,c[R+".toggleable"]=!1,c[R+".axis"]=y,c[R+".start"]=0,c[R+".end"]=l/2,c[R+k]=0,A(C.Style,c,!0)});var dh=function(){this.$4n=[]};dh.$15n=function(n){var w=new dh;return w.$4n=n,w},dh.prototype={clone:function(){var N=new dh;return N.$4n=this.$4n.map(function(O){return O.clone()}),N},$19n:function(){return this.$4n},union:function(I){var U=new Ro(this.clone().$4n),t=new Ro(I.clone().$4n);return U.$3n(t),t.$3n(U),t.$6n(),t.$3n(U),t.$6n(),U.$7n(t.$2n()),dh.$15n(U.$2n())},subtract:function(H){var Y=new Ro(this.clone().$4n),C=new Ro(H.clone().$4n);return Y.$6n(),Y.$3n(C),C.$3n(Y),C.$6n(),C.$3n(Y),C.$6n(),Y.$7n(C.$2n()),Y.$6n(),dh.$15n(Y.$2n())},intersect:function(N){var o=new Ro(this.clone().$4n),C=new Ro(N.clone().$4n);return o.$6n(),C.$3n(o),C.$6n(),o.$3n(C),C.$3n(o),o.$7n(C.$2n()),o.$6n(),dh.$15n(o.$2n())},inverse:function(){var _=this.clone();return _.$4n.map(function(f){f.flip()}),_}},dh.cube=function(F){F=F||{};var V=new Zp(F.center||[0,0,0]),y=F.radius?F.radius.length?F.radius:[F.radius,F.radius,F.radius]:[1,1,1];return dh.$15n([[[0,4,6,2],[-1,0,0]],[[1,3,7,5],[1,0,0]],[[0,1,5,4],[0,-1,0]],[[2,6,7,3],[0,1,0]],[[0,2,3,1],[0,0,-1]],[[4,5,7,6],[0,0,1]]].map(function(p){return new Vi(p[0].map(function(O){var x=new Zp(V.x+y[0]*(2*!!(1&O)-1),V.y+y[1]*(2*!!(2&O)-1),V.z+y[2]*(2*!!(4&O)-1));return new Rf(x,new Zp(p[1]))}))}))},dh.sphere=function(H){function u(b,Z){b*=2*l,Z*=l;var D=new Zp(U(b)*B(Z),U(Z),B(b)*B(Z));x.push(new Rf(n.$20n(D.$21n(w)),D))}H=H||{};for(var x,n=new Zp(H.center||[0,0,0]),w=H.radius||1,J=H.slices||16,W=H.stacks||8,F=[],f=0;J>f;f++)for(var d=0;W>d;d++)x=[],u(f/J,d/W),d>0&&u((f+1)/J,d/W),W-1>d&&u((f+1)/J,(d+1)/W),u(f/J,(d+1)/W),F.push(new Vi(x));return dh.$15n(F)},dh.cylinder=function(m){function k(o,k,K){var h=2*k*l,c=P.$21n(U(h)).$20n(I.$21n(B(h))),C=L.$20n(Z.$21n(o)).$20n(c.$21n(i)),W=c.$21n(1-t(K)).$20n(s.$21n(K));return new Rf(C,W)}m=m||{};for(var L=new Zp(m.start||[0,-1,0]),W=new Zp(m.end||[0,1,0]),Z=W.$13n(L),i=m.radius||1,M=m.slices||16,s=Z.$14n(),h=t(s.y)>.5,P=new Zp(h,!h,0).$12n(s).$14n(),I=P.$12n(s).$14n(),p=new Rf(L,s.$11n()),H=new Rf(W,s.$14n()),T=[],$=0;M>$;$++){var u=$/M,R=($+1)/M;T.push(new Vi([p,k(0,u,-1),k(0,R,-1)])),T.push(new Vi([k(0,R,0),k(0,u,0),k(1,u,0),k(1,R,0)])),T.push(new Vi([H,k(1,R,1),k(1,u,1)]))}return dh.$15n(T)};var Zp=function(K,q,S){var O=this;3==arguments.length?(O.x=K,O.y=q,O.z=S):"x"in K?(O.x=K.x,O.y=K.y,O.z=K.z):(O.x=K[0],O.y=K[1],O.z=K[2])};Zp.prototype={clone:function(){return new Zp(this.x,this.y,this.z)},$11n:function(){return new Zp(-this.x,-this.y,-this.z)},$20n:function(h){return new Zp(this.x+h.x,this.y+h.y,this.z+h.z)},$13n:function(m){return new Zp(this.x-m.x,this.y-m.y,this.z-m.z)},$21n:function(_){return new Zp(this.x*_,this.y*_,this.z*_)},$16n:function(u){return new Zp(this.x/u,this.y/u,this.z/u)},$23n:function(g){return this.x*g.x+this.y*g.y+this.z*g.z},lerp:function(W,i){return this.$20n(W.$13n(this).$21n(i))},length:function(){return V(this.$23n(this))},$14n:function(){return this.$16n(this.length())},$12n:function(H){var B=this;return new Zp(B.y*H.z-B.z*H.y,B.z*H.x-B.x*H.z,B.x*H.y-B.y*H.x)}};var Rf=function(Y,r,U){var e=this;e.$24n=new Zp(Y),e.$22n=new Zp(r),e.uv=U?new Zp(U):null};Rf.prototype={clone:function(){var E=this;return new Rf(E.$24n.clone(),E.$22n.clone(),E.uv?E.uv.clone():null)},flip:function(){this.$22n=this.$22n.$11n()},$18n:function(L,Q){var l=this;return new Rf(l.$24n.lerp(L.$24n,Q),l.$22n.lerp(L.$22n,Q),l.uv?l.uv.lerp(L.uv,Q):null)}};var Xe=function(t,S){this.$22n=t,this.w=S};Xe.$17n=function(l,E,T){var R=E.$13n(l).$12n(T.$13n(l)).$14n();return new Xe(R,R.$23n(l))},Xe.prototype={clone:function(){return new Xe(this.$22n.clone(),this.w)},flip:function(){var Q=this;Q.$22n=Q.$22n.$11n(),Q.w=-Q.w},$5n:function(u,Y,c,t,h){for(var D=this,w=0,v=1,S=2,W=3,E=0,o=[],i=0;i<u.$9n.length;i++){var R=D.$22n.$23n(u.$9n[i].$24n)-D.w,b=-d>R?S:R>d?v:w;E|=b,o.push(b)}switch(E){case w:(D.$22n.$23n(u.$8n.$22n)>0?Y:c).push(u);break;case v:t.push(u);break;case S:h.push(u);break;case W:for(var q=[],N=[],i=0;i<u.$9n.length;i++){var p=(i+1)%u.$9n.length,y=o[i],J=o[p],G=u.$9n[i],U=u.$9n[p];if(y!=S&&q.push(G),y!=v&&N.push(y!=S?G.clone():G),(y|J)==W){var R=(D.w-this.$22n.$23n(G.$24n))/D.$22n.$23n(U.$24n.$13n(G.$24n)),L=G.$18n(U,R);q.push(L),N.push(L.clone())}}q.length>=3&&t.push(new Vi(q,u.$10n)),N.length>=3&&h.push(new Vi(N,u.$10n))}}};var Vi=function(m,o){var $=this;$.$9n=m,$.$10n=o,$.$8n=Xe.$17n(m[0].$24n,m[1].$24n,m[2].$24n)};Vi.prototype={clone:function(){var q=this.$9n.map(function(y){return y.clone()});return new Vi(q,this.$10n)},flip:function(){this.$9n.reverse().map(function(U){U.flip()}),this.$8n.flip()}};var Ro=function(M){var Z=this;Z.$8n=null,Z.front=null,Z.back=null,Z.$4n=[],M&&Z.$7n(M)};Ro.prototype={clone:function(){var X=this,u=new Ro;return u.$8n=X.$8n&&X.$8n.clone(),u.front=X.front&&X.front.clone(),u.back=X.back&&X.back.clone(),u.$4n=X.$4n.map(function(x){return x.clone()}),u},$6n:function(){for(var g=this,y=0;y<g.$4n.length;y++)g.$4n[y].flip();g.$8n.flip(),g.front&&g.front.$6n(),g.back&&g.back.$6n();var u=g.front;g.front=g.back,g.back=u},$1n:function(j){var y=this;if(!y.$8n)return j.slice();for(var P=[],r=[],t=0;t<j.length;t++)y.$8n.$5n(j[t],P,r,P,r);return y.front&&(P=y.front.$1n(P)),r=y.back?y.back.$1n(r):[],P.concat(r)},$3n:function(U){var Z=this;Z.$4n=U.$1n(Z.$4n),Z.front&&Z.front.$3n(U),Z.back&&Z.back.$3n(U)},$2n:function(){var o=this,h=o.$4n.slice();return o.front&&(h=h.concat(o.front.$2n())),o.back&&(h=h.concat(o.back.$2n())),h},$7n:function($){var b=this;if($.length){b.$8n||(b.$8n=$[0].$8n.clone());for(var G=[],B=[],l=0;l<$.length;l++)this.$8n.$5n($[l],b.$4n,b.$4n,G,B);G.length&&(b.front||(b.front=new Ro),this.front.$7n(G)),B.length&&(b.back||(b.back=new Ro),b.back.$7n(B))}}};var jn="symbol",nd=C.Symbol=function(I,c,F){var N=this;E(nd,N),N.s3(20,20,20),N.s({"all.visible":!1,shape:"rect"}),N.setIcon(I,c,F)};v("Symbol",s,{setIcon:function(P,I,T){var n,W=this;return nd.superClass.setIcon.call(W,P),P?(n={for3d:!0,face:"center",position:44,names:[P]},T&&(n.transaprent=!0),I&&(n.autorotate=I),W.addStyleIcon(jn,n)):W.removeStyleIcon(jn),W.setWidth(J.getImageWidth(f.getImage(P),W)||20),n}});var ms=C.CSGNode=function(){E(ms,this),this.s({shape:"rect","attach.thickness":1.001})},Kk={position:1,width:1,height:1,rotation:1,rotationX:1,rotationZ:1,rotationMode:1,tall:1,elevation:1,"s:attach.cull":1,"s:attach.operation":1};v("CSGNode",s,{_22Q:function(){return Fl},onPropertyChanged:function(M){var o=this,n=o.getHost();ms.superClass.onPropertyChanged.call(o,M),Kk[M.property]&&(n instanceof eg||n instanceof ms)&&n.fp("csgNodeChange",!0,!1)}});var Fl=function(_,b){E(Fl,this,[_,b])};i(Fl,e.Node3dUI,{_80o:function(x,c,M){var S=this;S._shape3d?Fl.superClass._80o.call(S,x,c,M):(h(S.gv),Mo.forEach(function(Q){o(S,x,c,S[Q],M)}))},validate:function(G,l){var N=this,h=N.gv,D=N.data;if(D.s("shape3d"))return Fl.superClass.validate.call(N,G,l),N._shape3d=!0,void 0;N._shape3d=!1;var n=K(D,h.getMat(D)),T=G&&G.uv;N.vf2("csg",T);for(var g=0;6>g;g++)for(var k=cb[g],j=qi[g],e=N.vf2(k,T,l),a=e.mat||n,F=e.vs,C=e.uv,V=e.tuv,E=0;2>E;E++){var p=x[j+3*E],i=x[j+3*E+1],Y=x[j+3*E+2];if(S(F,a,[b[3*p],b[3*p+1],b[3*p+2]]),S(F,a,[b[3*i],b[3*i+1],b[3*i+2]]),S(F,a,[b[3*Y],b[3*Y+1],b[3*Y+2]]),V)if(C){var B=8*g;V.push(C[2*p-B],C[2*p+1-B],C[2*i-B],C[2*i+1-B],C[2*Y-B],C[2*Y+1-B])}else V.push(Z[2*p],Z[2*p+1],Z[2*i],Z[2*i+1],Z[2*Y],Z[2*Y+1])}up(N,G,l)},vf2:function(v,W,A){var $,l=this,h=l.gv.getFaceVisible(l.data,v);return $=Y(l,v,A),$.vs=[],$.tuv=h&&($.texture||W)?[]:g,$.visible=h,$}});var eg=C.CSGShape=function(){var D=this;E(eg,D),D.s({"shape.background":g,"shape.border.width":8}),D.setTall(240),D.setElevation(120),D.setThickness(14)};v("CSGShape",R,{IRotatable:!1,_22Q:function(){return kk},setRotationX:function(){},setRotation:function(){},setRotationZ:function(){},setSegments:function(){}});var kk=function(C,I){E(kk,this,[C,I])};i(kk,e.Shape3dUI,{_80o:function(m,D,U){var H=this;H.undrawable||(h(H.gv),Mo.forEach(function(q){o(H,m,D,H[q],U)}))},validate:function(r,v){var j=this,P=j.data,H=P.getPoints();if(j.undrawable=H.size()<2)return j.clear(),void 0;var Z=P.isClosePath(),c=M(P._thickness/2,d),G=w(H,g,g,Z);Mo.forEach(function(T){j.vf(T,r&&r.uv,!0,v)}),Z&&(j.left.visible=!1,j.right.visible=!1),j._12O(G,c),j._20Q(G),up(j,r,v)}});var Wd=C.DoorWindow=function(){var t=this;E(Wd,t),t.setElevation(100),t.s3(100,200,14)};v("DoorWindow",ms,{IDoorWindow:!0,toggle:function(G){this.setExpanded(!this.s(W),G)},isExpanded:function(){return this.s(W)},setExpanded:function(t,B){var Q=this,V=Q.$25n,P=Q.getDataModel(),K=Q.s(W);if(V&&(V.stop(!0),delete Q.$25n),K!==t){P&&P.beginTransaction();var z=t?Q.s("dw.end"):Q.s("dw.start");Q.s(W,t),B=m(B),B?(K=Q.s(H),B.action=function(D){Q.s(H,K+(z-K)*D)},B.finishFunc=function(){P&&P.endTransaction()},Q.$25n=I(B)):(Q.s(H,z),P&&P.endTransaction())}},getMat:function(){var A=this,V=A.s("dw.s3"),J=A.s("dw.t3"),Z=A.s("dw.flip"),P=A.s(H);if(V||P||J||Z){var L=[];if(Z&&L.push({r3:[0,l,0]}),V&&L.push({s3:V}),P){V=A.s3();var E=A.s("dw.axis"),j=V[0]/2,I=V[1]/2;V[2]/2,E===y?L.push({t3:[j,0,0]},{r3:[0,-P,0]},{t3:[-j,0,0]}):E===p?L.push({t3:[-j,0,0]},{r3:[0,P,0]},{t3:[j,0,0]}):E===T?L.push({t3:[0,-I,0]},{r3:[-P,0,0]},{t3:[0,I,0]}):E===r?L.push({t3:[0,I,0]},{r3:[P,0,0]},{t3:[0,-I,0]}):E===D?L.push({r3:[0,P,0]}):E===c&&L.push({r3:[P,0,0]})}return J&&L.push({t3:J}),n(L)}return g}});var bf=C.CSGBox=function(){var x=this;E(bf,x),x.setElevation(100),x.s3(100,200,100)};v("CSGBox",ms,{ICSGBox:!0,toggleFace:function(x,q){this.setFaceExpanded(x,!this.s(x+G),q)},isFaceExpanded:function(w){return this.s(w+G)},setFaceExpanded:function(l,s,A){var H=this,q=H.$25n,$=H.s(l+G);if(q&&(q.stop(!0),delete H.$25n),$!==s){var o=s?H.s(l+".end"):H.s(l+".start");H.s(l+G,s),A=m(A),A?($=H.s(l+k),A.action=function(Q){H.s(l+k,$+(o-$)*Q)},H.$25n=I(A)):H.s(l+k,o)}},getFaceMat:function(H){var h=this,z=h.s(H+k);if(!z)return g;var V=h.s(H+".axis"),M=h.s3(),i=M[0]/2,K=M[1]/2,d=M[2]/2,S=[];return H===q&&(V===y?S.push({t3:[i,0,-d]},{r3:[0,-z,0]},{t3:[-i,0,d]}):V===p?S.push({t3:[-i,0,-d]},{r3:[0,z,0]},{t3:[i,0,d]}):V===T?S.push({t3:[0,-K,-d]},{r3:[-z,0,0]},{t3:[0,K,d]}):V===r?S.push({t3:[0,K,-d]},{r3:[z,0,0]},{t3:[0,-K,d]}):V===D?S.push({t3:[0,0,-d]},{r3:[0,z,0]},{t3:[0,0,d]}):V===c&&S.push({t3:[0,0,-d]},{r3:[z,0,0]},{t3:[0,0,d]})),H===O&&(V===y?S.push({t3:[-i,0,d]},{r3:[0,-z,0]},{t3:[i,0,-d]}):V===p?S.push({t3:[i,0,d]},{r3:[0,z,0]},{t3:[-i,0,-d]}):V===T?S.push({t3:[0,-K,d]},{r3:[z,0,0]},{t3:[0,K,-d]}):V===r?S.push({t3:[0,K,d]},{r3:[-z,0,0]},{t3:[0,-K,-d]}):V===D?S.push({t3:[0,0,d]},{r3:[0,z,0]},{t3:[0,0,-d]}):V===c&&S.push({t3:[0,0,d]},{r3:[z,0,0]},{t3:[0,0,-d]})),H===y&&(V===y?S.push({t3:[i,0,d]},{r3:[0,-z,0]},{t3:[-i,0,-d]}):V===p?S.push({t3:[i,0,-d]},{r3:[0,z,0]},{t3:[-i,0,d]}):V===T?S.push({t3:[i,-K,0]},{r3:[0,0,-z]},{t3:[-i,K,0]}):V===r?S.push({t3:[i,K,0]},{r3:[0,0,z]},{t3:[-i,-K,0]}):V===D?S.push({t3:[i,0,0]},{r3:[0,z,0]},{t3:[-i,0,0]}):V===c&&S.push({t3:[i,0,0]},{r3:[0,0,z]},{t3:[-i,0,0]})),H===p&&(V===y?S.push({t3:[-i,0,-d]},{r3:[0,-z,0]},{t3:[i,0,d]}):V===p?S.push({t3:[-i,0,d]},{r3:[0,z,0]},{t3:[i,0,-d]}):V===T?S.push({t3:[-i,-K,0]},{r3:[0,0,z]},{t3:[i,K,0]}):V===r?S.push({t3:[-i,K,0]},{r3:[0,0,-z]},{t3:[i,-K,0]}):V===D?S.push({t3:[-i,0,0]},{r3:[0,z,0]},{t3:[i,0,0]}):V===c&&S.push({t3:[-i,0,0]},{r3:[0,0,z]},{t3:[i,0,0]})),H===T&&(V===y?S.push({t3:[i,-K,0]},{r3:[0,0,z]},{t3:[-i,K,0]}):V===p?S.push({t3:[-i,-K,0]},{r3:[0,0,-z]},{t3:[i,K,0]}):V===T?S.push({t3:[0,-K,d]},{r3:[-z,0,0]},{t3:[0,K,-d]}):V===r?S.push({t3:[0,-K,-d]},{r3:[z,0,0]},{t3:[0,K,d]}):V===D?S.push({t3:[0,-K,0]},{r3:[0,0,z]},{t3:[0,K,0]}):V===c&&S.push({t3:[0,-K,0]},{r3:[z,0,0]},{t3:[0,K,0]})),H===r&&(V===y?S.push({t3:[i,K,0]},{r3:[0,0,-z]},{t3:[-i,-K,0]}):V===p?S.push({t3:[-i,K,0]},{r3:[0,0,z]},{t3:[i,-K,0]}):V===T?S.push({t3:[0,K,-d]},{r3:[-z,0,0]},{t3:[0,-K,d]}):V===r?S.push({t3:[0,K,d]},{r3:[z,0,0]},{t3:[0,-K,-d]}):V===D?S.push({t3:[0,K,0]},{r3:[0,0,z]},{t3:[0,-K,0]}):V===c&&S.push({t3:[0,K,0]},{r3:[z,0,0]},{t3:[0,-K,0]})),n(S)}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);