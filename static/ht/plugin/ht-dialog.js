!function(Q,h){"use strict";var U="ht",L=Q[U],Y="px",B="left",V="top",P="bottom",g="right",J="innerHTML",u="className",N="",b="width",c="height",G="string",k="position",$="absolute",T="0",I="opacity",K="background",y=L.Default,o=y.getInternal(),m=L.Color,z=y.animate,l=y.isTouchable,w=null,f=(Math.sqrt,Q.parseInt),H=Q.setTimeout,C=(Math.round,m.titleIconBackground),v=function(a){return typeof a===G||a instanceof String},e=function(){return document},s=function(r){return e().createElement(r)},Z=function(){var b=s("div");return b.tabIndex=-1,b.style.outline="none",b},R=function(){return s("canvas")},A=function(V,s){S(V,"-webkit-transform",s),S(V,"-ms-transform",s),S(V,"transform",s)},S=function(F,D,Z){F.style.setProperty(D,Z,w)},r=function(x,d,J){y.def(L.widget[x],d,J)},D=function(u,h){u.appendChild(h)},W=function(){return e().documentElement},q=function(){return W().clientWidth},X=function(){return W().clientHeight},t=y.eventListenerOptionsFalse,x=(y.eventListenerOptionsTrue,function(j,r,D,l){j.addEventListener(r,D,l?t:t)}),E=function(Z,H,I,x){Z.removeEventListener(H,I,x?t:t)},n=function(k){var R=k.touches[0];return R?R:k.changedTouches[0]};o.addMethod(y,{dialogCloseIcon:{width:100,height:100,comps:[{type:"shape",points:[10,10,90,90],segments:[1,2],borderWidth:8,borderColor:C},{type:"shape",points:[90,10,10,90],segments:[1,2],borderWidth:8,borderColor:C}]},dialogMaximizeIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,15,80,75],borderWidth:6,borderColor:C},{type:"rect",rect:[10,10,80,20],background:C}]},dialogRestoreIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,34,56,56],borderWidth:8,borderColor:C},{type:"rect",rect:[10,34,56,14],background:C},{type:"rect",rect:[34,10,56,14],background:C},{type:"rect",rect:[82,10,8,56],background:C},{type:"rect",rect:[66,62,24,8],background:C}]},dialogTitleLabelColor:y.labelSelectColor,dialogTitleLabelFont:(l?"18":"14")+"px arial, sans-serif",dialogContentLabelFont:y.labelFont,dialogTitleBackground:m.titleBackground,dialogHeaderBackground:m.headerBackground,dialogButtonBackground:"#1ABC9C",dialogButtonSelectBackground:"#16A085",dialogButtonLabelColor:"#fff"},!0);var j=function(F){var q=this;q.$1d=F,q.addListeners()};y.def(j,h,{ms_listener:1,getView:function(){return this.$1d.getView()},clear:function(){delete this.$2d,delete this.$3d,delete this.$4d,delete this.$5d},handle_touchstart:function(O){var A=this,r=A.$1d,j=r.$6d,d=r._config,f=r.$7d,o=O,s=O.target;if(f.contains(s)||y.preventDefault(O),y.isLeftButton(O)){l&&(o=n(O));var T=A.$8d={x:o.pageX,y:o.pageY};A.$9d={x:T.x,y:T.y},!d.maximized&&d.draggable&&j.contains(s)&&(A.$4d=!0,y.startDragging(A,O)),A.handle_mousemove(O)&&(A.$2d=!0,y.startDragging(A,O)),f.contains(O.target)||r.$41d.focus()}},handle_mousedown:function(O){this.handle_touchstart(O)},handle_touchend:function(C){if(y.isLeftButton(C)&&!this.$5d&&!this.$3d){var b=this,h=b.$1d,F=C.target,P=h._config,z=h.$18d,x=h.$16d;for(P.closable&&z.contains(F)&&h.hide(),P.maximizable&&x.contains(F)&&(P.maximized?h.restore():h.maximize());F&&(F.className||"").indexOf("dialog-button")<0;)F=F.parentNode;F&&F.buttonItem&&h.action&&h.action(F.buttonItem,C),delete b.$8d,delete b.$9d}},handle_mouseup:function(T){this.handle_touchend(T)},handleWindowTouchEnd:function(X){var V=this,l=V.$1d,L=l.$10d;V.$2d&&V.$3d?L.fire({kind:"endResize",target:l,originEvent:X}):V.$4d&&V.$5d&&L.fire({kind:"endMove",target:l,originEvent:X}),this.clear()},handleWindowMouseUp:function(e){this.handleWindowTouchEnd(e)},handle_mousemove:function(g){var B=this.$1d._config;if(B.maximized)return!1;if("w"!==B.resizeMode&&"h"!==B.resizeMode&&"wh"!==B.resizeMode)return!1;var R=this,d=R.getView(),G=d.querySelector(".resize-area"),_=G.getBoundingClientRect(),v={x:_.left,y:_.top,width:_.width,height:_.height};g=l?n(g):g;var P=g.clientX,a=g.clientY,x={x:P,y:a};return y.containsPoint(v,x)?(S(d,"cursor","nwse-resize"),!0):(S(d,"cursor",N),void 0)},handleWindowTouchMove:function(o){o.preventDefault();var A=o;l&&(A=n(o));var J=this,v=J.$8d,j=J.$9d;if(!(j.x==v.x&&j.y==v.y&&y.getDistance(j,{x:A.pageX,y:A.pageY})<=1)){var z=J.$1d,g=z._config,d=z.$21d,p=g.resizeMode||"wh",U=A.pageX-v.x,b=A.pageY-v.y;if(J.$2d){var N=d.offsetWidth,K=d.offsetHeight,D=N+U,r=K+b;if(D=Math.max(D,50),r=Math.max(r,50),"center"===g.position||g.position==w){var m={},Q=d.getBoundingClientRect();m.x=Q.left,m.y=Q.top,g.position=m}"w"===p?(z.setSize(D,K),v.x+=D-N):"h"===p?(z.setSize(N,r),v.y+=r-K):"wh"===p&&(z.setSize(D,r),v.x+=D-N,v.y+=r-K),J.$3d?z.$10d.fire({kind:"betweenResize",target:z,originEvent:o}):(J.$3d=!0,z.$10d.fire({kind:"beginResize",target:z,originEvent:o}))}else if(J.$4d){var L=d.getBoundingClientRect(),F=L.width,_=L.height,I=q(),Z=X(),O=f(d.style.left)||0,a=f(d.style.top)||0,x=O+U,H=a+b,R=z.adjustPosition({x:x,y:H},{width:F,height:_},{width:I,height:Z});R&&(x=R.x,H=R.y);var u=x-O,s=H-a;S(d,B,x+Y),S(d,V,H+Y),v.x+=u,v.y+=s,g.position={x:x,y:H},J.$5d?z.$10d.fire({kind:"betweenMove",target:z,originEvent:o}):(J.$5d=!0,z.$10d.fire({kind:"beginMove",target:z,originEvent:o}))}}},handleWindowMouseMove:function(d){this.handleWindowTouchMove(d)},handleWindowResize:function(){var O=this,p=O,v=p._config,m=p.$21d,A=q(),n=X(),l=v.width,P=v.height,L=v.position||"center";v.maximized?(S(m,b,A+Y),S(m,c,n+Y),S(m,V,T),S(m,B,T)):(S(m,b,l+Y),S(m,c,P+Y),"center"===L?(S(m,B,(A-l)/2+Y),S(m,V,(n-P)/2+Y)):(S(m,B,L.x+Y),S(m,V,L.y+Y))),p.iv()},handle_mousewheel:function(X){X.stopPropagation()},handle_DOMMouseScroll:function(P){P.stopPropagation()}}),L.widget.Dialog=function(q){var b=this,P=b._view=o.createView(null,b);P[u]="ht-widget-dialog",S(P,k,$),y.baseZIndex!=w&&S(P,"z-index",y.baseZIndex+"");var e=b.$11d=new j(b);b.bindingHandleWindowResize=e.handleWindowResize.bind(b),b.$10d=new L.Notifier,q&&b.setConfig(q)},r("Dialog",h,{ms_v:1,setTitle:function(p){this._config.title=p,this.getView().querySelector(".dialog-container-title span").innerHTML=p},clearNodes:function(K){if(K)for(;K.firstChild;)K.removeChild(K.firstChild)},$31d:function(){var V=this,h=V.$6d=Z(),I=V._config,P=V.$12d=V.$13d();h[u]="dialog-container-title",S(h,"cursor","default"),S(h,"white-space","nowrap"),S(h,"overflow","hidden"),S(h,"font",y.dialogTitleLabelFont),S(h,K,I.titleBackground||y.dialogTitleBackground),S(h,"color",I.titleColor||y.dialogTitleLabelColor);var o=s("span"),z=V.$25d();if(I.titleAlign&&S(h,"text-align",I.titleAlign),I.titleIcon){var W=V.$14d=V.$15d();D(h,W)}if(I.title&&I.title.trim&&(I.title=I.title.trim()),o[J]=I.title||"&nbsp;",D(h,o),I.maximizable){var d=V.$16d=V.$17d();D(P,d)}if(I.closable){var L=V.$18d=V.$19d();D(P,L)}return D(h,P),S(h,"display","block"),S(h,"line-height",z+Y),h},$13d:function(){var x=Z();return S(x,k,$),S(x,B,T),S(x,g,5+Y),S(x,V,T),S(x,P,T),S(x,"text-align",g),S(x,"white-space","nowrap"),x[u]="dialog-title-controls",x},$20d:function(){var q=this.$21d=Z(),R=this._config,x=R.borderWidth;return S(q,k,"fixed"),S(q,"box-shadow","rgba(0, 0, 0, 0.2) 0px 5px 10px 0px"),S(q,"padding",T+" "+x+Y+" "+x+Y+" "+x+Y),S(q,"box-sizing","border-box"),S(q,"-moz-box-sizing","border-box"),q[u]="dialog-container",S(q,K,R.titleBackground||y.dialogTitleBackground),q},$22d:function(){var q,C=this,Q=C._config,n=C.$7d=Z(),l=Q.content,F=0,A=Q.contentPadding||0;Q.buttons!=w&&Q.buttons.length>0&&(F=32),v(l)?n[J]=l:l.getView?(q=l.getView(),D(n,q)):(q=l,D(n,q)),S(n,k,$),S(n,"font",y.dialogContentLabelFont),L.Default.appendToScreen(n);var K=n.offsetWidth+1,T=n.offsetHeight,I=C.$25d();return Q.width==w&&(Q.width=K+10+2*A),Q.height==w&&(Q.height=T+I+F+5+2*A),L.Default.removeHTML(n),q&&(S(q,"box-sizing","border-box"),S(q,"-moz-box-sizing","border-box"),S(q,b,"100%"),S(q,c,"100%")),n[u]="dialog-content",S(n,V,I+A+Y),S(n,P,F+A+Y),S(n,B,A+Y),S(n,g,A+Y),S(n,"overflow","hidden"),n},getOverlayDiv:function(){return this.$41d},$23d:function(){var E=this.$41d=Z();return E[u]="dialog-overlay",S(E,b,"100%"),S(E,c,"100%"),S(E,k,"fixed"),S(E,V,T),S(E,B,T),S(E,K,"rgba(235, 235, 235, 0.7)"),E},_config:w,setSize:function(E,d){var O=this,W=O._config;W&&(W.width=E,W.height=d,O.isShowing()&&(O.bindingHandleWindowResize(),O.iv()))},getConfig:function(){return this._config},$24d:function(){var k=this._config,m=k.titleIconSize||16;return l&&(m*=1.2),m},$25d:function(){var Z=this._config,D=Z.titleHeight||y.widgetTitleHeight;return D},$26d:function(Z){S(Z,"cursor","pointer"),S(Z,"display","inline-block"),S(Z,"margin-right",(l?8:4)+Y),S(Z,"vertical-align",V)},$27d:function(){var s=this.$30d=Z(),x=10;return l&&(x=20),S(s,b,x+Y),S(s,c,x+Y),S(s,k,$),S(s,P,T),S(s,g,T),s[u]="resize-area",s},$15d:function(){var X=this,N=R();N[u]="dialog-title-control dialog-title-control-icon";var r=X.$25d(),c=X.$24d();return X.$26d(N),o.setCanvas(N,c,r),N},$17d:function(){var I=R();I[u]="dialog-title-control dialog-title-control-maximize";var N=this.$25d(),U=this.$24d();return this.$26d(I),o.setCanvas(I,U,N),I},$19d:function(){var Y=R();Y[u]="dialog-title-control dialog-title-control-close";var T=this.$25d(),L=this.$24d();return this.$26d(Y),o.setCanvas(Y,L,T),Y},$28d:function(){var t=Z();return S(t,K,"white"),S(t,b,"100%"),S(t,c,"100%"),S(t,k,"relative"),t},$29d:function(){var j=this,X=Z();S(X,"line-height",32+Y),S(X,k,$),S(X,P,T),S(X,B,T),S(X,"white-space","nowrap"),S(X,"overflow","hidden"),S(X,g,T),S(X,K,y.dialogHeaderBackground),X[u]="dialog-container-buttons";var Q=this._config,e=Q.buttonsAlign||g,d=0;return S(X,"text-align",e),j.$42d=[],Q.buttons.forEach(function(U){var T=new L.widget.Button,P=T.getView();P[u]="dialog-button "+U.className,P.buttonItem=U,j.$42d.push(T),T.setBorderColor(w),T.setBackground(y.dialogButtonBackground),T.setSelectBackground(y.dialogButtonSelectBackground),T.setLabelColor(y.dialogButtonLabelColor),S(P,k,"relative"),S(P,"display","inline-block"),S(P,"text-align",B),S(P,"height",24+Y);var q=l?10:5;e===B||e===g?S(P,"margin-"+e,q+Y):0===d||S(P,"margin-"+B,q+Y),S(P,"vertical-align","middle");var A=y.getTextSize(T.getLabelFont(),U.label).width+10;T.onClicked=function(Q){U.action&&U.action.call(j,U,Q)},T.setLabel(U.label),T.setDisabled(U.disabled),S(P,b,A+Y),D(X,T.getView()),d++}),X},setConfig:function(r){if(r){var A=this,g=A._view;A._config=r,A.action=r.action,A.clearNodes(g),r.borderWidth==w&&(r.borderWidth=5);var d=A.$23d(),j=A.$28d(),N=A.$31d(),i=A.$22d(),c=A.$20d(),p=A.$30d=A.$27d();if(D(g,d),D(g,c),D(c,j),D(j,N),D(j,i),r.buttons!=w&&r.buttons.length>0){var m=A.$29d();D(j,m)}D(c,p),r.maximized?(r.maximized=!1,A.bindingHandleWindowResize(),A.maximize(!0)):A.bindingHandleWindowResize(),A.isShowing()&&A.iv()}},hide:function(){var A=this,R=A.$21d,c=A.$41d,r=A._view;r[u]="ht-widget-dialog",z(R).duration(200).scale(.7).set(I,T).end(function(){A.onHidden&&A.onHidden(),L.Default.removeHTML(r),A.$10d.fire({kind:"hide",target:A})}),z(c).duration(200).set(I,T).end(),E(Q,"resize",A.bindingHandleWindowResize)},isShowing:function(){return!!this._view.parentNode},setModal:function(j){this.$41d.style.display=j?"block":"none"},isModal:function(){return"none"!==this.$41d.style.display},$32d:function(){var v=this,C=v._config,h=v.$21d;A(h,N),v.iv(),C.maximized?v.$10d.fire({kind:"maximize",target:v}):v.$10d.fire({kind:"restore",target:v})},maximize:function(j){var v=this,a=v.$21d,R=v._config;if(!R.maximized){R.maximized=!0,v.$33d(),v.$16d[u]="dialog-title-control dialog-title-control-minimize";var K=q(),S=X(),p=R.width,L=R.height,d=f(a.style.left)||0,r=f(a.style.top)||0;v.$36d=p,v.$37d=L,v.$34d=d,v.$35d=r;var k=j?0:200;z(a).duration(k).set(B,T).set(V,T).set(b,K+Y).set(c,S+Y).end(function(){v.$32d()})}},restore:function(){var g=this,s=g.$34d,K=g.$35d,W=g.$36d,e=g.$37d,o=g._config;if(o.maximized&&(o.maximized=!1,g.$33d(),g.$16d[u]="dialog-title-control dialog-title-control-maximize",g.isShowing()&&s!=w&&K!=w&&W!=w&&e!=w)){var x=g.$21d;z(x).duration(200).set(B,s+Y).set(V,K+Y).set(b,W+Y).set(c,e+Y).end(function(){g.$32d()})}delete g.$34d,delete g.$35d,delete g.$36d,delete g.$37d},show:function(){var B=this,R=B._view,M=B._config,U=B.$21d,p=B.$41d;M&&M.zIndex!=w&&S(R,"z-index",M.zIndex+N),L.Default.appendToScreen(R),A(U,"scale(0.7)"),S(U,I,T),B.iv(),B.validate(),B._view[u]+=" dialog-show",H(function(){z(U).duration(200).scale(1).set(I,"1").end(function(){S(U,b,U.clientWidth+Y),S(U,c,U.clientHeight+Y),B.onShown&&B.onShown(),B.$10d.fire({kind:"show",target:B});var $=M&&M.content;$&&$.iv&&$.iv()}),z(p).duration(200).set(I,"1").end(),x(Q,"resize",B.bindingHandleWindowResize)},30)},setPosition:function(q){var E=this.$21d;E.style.left=q.x+"px",E.style.top=q.y+"px"},addEventListener:function(p,q,F){this.$10d.add(p,q,F)},removeEventListener:function(m,x){this.$10d.remove(m,x)},$38d:function(r,m,d,S){var v=o.initContext(r);o.translateAndScale(v,0,0,1),v.clearRect(0,0,d,d);var V=(d-S)/2;y.drawStretchImage(v,y.getImage(m),"fill",0,V,S,S),v.restore()},$33d:function(){var _=this,t=_._config,f=_.$16d,n=t.maximized?y.dialogRestoreIcon:y.dialogMaximizeIcon;if(f&&n){var b=_.$25d(),m=_.$24d();_.$38d(f,y.getImage(n),b,m)}},$39d:function(){var l=this,V=l._config,j=l.$14d,R=V.titleIcon;if(j&&R){var h=l.$25d(),C=l.$24d();l.$38d(j,y.getImage(R),h,C)}},$40d:function(){var f=this,P=f.$18d,J=y.dialogCloseIcon;if(P&&J){var V=f.$25d(),R=f.$24d();f.$38d(P,y.getImage(J),V,R)}},invalidate:function(V){var x=this,E=x.$42d;x._68I||(x._68I=1,y.callLater(x.validate,x,w,V),x.onInvalidated&&x.onInvalidated(),x.fireViewEvent("invalidate"));var q=x._config.content;q.invalidate&&q.invalidate(),E&&E.forEach(function(x){x.iv()})},validateImpl:function(){var s=this;s.$40d(),s.$33d(),s.$39d();var i=s._config.content;i.initView&&(i.setX(0),i.setY(0),i.setWidth(s.$7d.clientWidth),i.setHeight(s.$7d.clientHeight))},adjustPosition:function(T,w,z){var s=w.width,i=w.height,W=z.width,J=z.height,N=T.x,t=T.y,S=this._config,G=S.minDragSize||20;return"inside"===S.dragMode?(N+s>W&&(N=W-s),t+i>J&&(t=J-i),0>N&&(N=0),0>t&&(t=0)):(null==S.dragMode||"none"===S.dragMode)&&(-s+G>N&&(N=-s+G),N>W-G&&(N=W-G),t>J-G&&(t=J-G),0>t&&(t=0)),{x:N,y:t}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);