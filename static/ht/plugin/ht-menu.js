!function(d,V){"use strict";var f="ht",F=d[f],J="innerHTML",p="className",Z=null,v="px",e=F.Default,$=e.getInternal(),u="0",o=function(){return document},q=function(b){return o().createElement(b)},G=function(){return q("canvas")},m=function(T,S,F){T.style.setProperty(S,F,Z)},k=function(Y,l,K){e.def(F.widget[Y],l,K)},c=function(t,f){t.appendChild(f)},T=function(R,T){R.removeChild(T)},r=e.eventListenerOptionsFalse,R=(e.eventListenerOptionsTrue,function(K,Z,Q,s){K.addEventListener(Z,Q,s?r:r)}),U=function(R,T,K,Z){R.removeEventListener(T,K,Z?r:r)},g=e.isTouchable;$.addMethod(e,{menuLabelFont:(g?"16":"13")+"px arial, sans-serif",menuLabelColor:"#000",menuBackground:"#F0EFEE",menuHoverBackground:"#648BFE",menuHoverLabelColor:"#fff",menuSeparatorWidth:1,menuSeparatorColor:"#999"},!0),F.widget.Menu=function(N){var s=this,Y=s._view=$.createView(null,s),J=s.$1g=new F.widget.ContextMenu,X=q("ul");J._r=!0,J._view[p]+=" ht-widget-dropdownmenu",Y[p]="ht-widget-menu",X[p]="header",m(Y,"margin",u),m(Y,"padding",u),m(Y,"background",e.menuBackground),m(Y,"-webkit-user-select","none"),m(Y,"-moz-user-select","none"),m(Y,"user-select","none"),m(Y,"text-align","left"),m(Y,"border-bottom",e.menuSeparatorWidth+"px solid "+e.menuSeparatorColor),m(Y,"cursor","default"),m(Y,"overflow","auto"),m(Y,"white-space","nowrap"),m(Y,"font",e.menuLabelFont),m(Y,"color",e.menuLabelColor),m(Y,"box-sizing","border-box"),m(Y,"-moz-box-sizing","border-box"),m(X,"list-style","none"),m(X,"margin",u),m(X,"padding",u),m(X,"display","inline-block"),c(Y,X),s.setItems(N),s.$2g=function(d){s.$3g(d)},s.$4g=function(I){s.$5g(I)},s.$6g=function(K){s.$7g(K)},s.$8g=function(i){s.$9g(i)},s.$9b=function(v){s.$10g(v)},s._autoShow=!0,s.setAutoShow(!1),J.afterHide=function(){s.$11g()},J.afterShow=function(){s.$12g()},U(o(),"keydown",J.$3b),s.$3b=function(v){s.$13g(v)},s.invalidate()},k("Menu",V,{_items:Z,$14g:e.menuHoverBackground,$15g:e.menuHoverLabelColor,$16g:{},_enableGlobalKey:!1,ms_v:1,$21g:"smallicons",$22g:0,$23g:0,$24g:"left",getDropDownMenu:function(){return this.$1g},setLayout:function(J){var I=this;if(I.$21g=J,I.setItems(I._items),"largeicons"===J){for(var k=I._view.querySelectorAll(".header-item"),s=0,$=0;$<k.length;$++){var N=k[$];s=Math.max(s,N.clientWidth)}for(var $=0;$<k.length;$++){var N=k[$];m(N,"min-width",s+v)}}this.invalidate()},getLayout:function(){return this.$21g},setHeaderItemHGap:function(z){this.$22g=z;for(var l=this._view.querySelectorAll(".header-item"),N=0;N<l.length;N++){var x=l[N];m(x,"margin-left",z+v),m(x,"margin-right",z+v)}},getHeaderItemHGap:function(){return this.$22g},setHeaderItemVGap:function(n){this.$23g=n;for(var M=this._view.querySelectorAll(".header-item"),g=0;g<M.length;g++){var c=M[g];m(c,"margin-top",n+v),m(c,"margin-bottom",n+v)}},getHeaderItemVGap:function(){return this.$24g},setHeaderItemAlign:function(E){this.$24g=E,m(this._view,"text-align",E)},getHeaderItemAlign:function(){return this.$23g},enableGlobalKey:function(){var V=this,y=V._enableGlobalKey;y===!1&&(R(o(),"keydown",V.$3b),V._enableGlobalKey=!0)},disableGlobalKey:function(){this._enableGlobalKey=!1,U(o(),"keydown",this.$3b)},setHoverBackground:function(T){this.$14g=T},setHoverColor:function(s){this.$15g=s},setItems:function(f){var g=this,D=g._view,i=g.$21g;if(g._items=f,D.children[0][J]="",g.$16g={},f&&f.length){for(var Z=D.children[0],k=0,l=o().createDocumentFragment();k<f.length;k++){var y=f[k],C=q("li"),B=q("span");if(y.icon){var a=G();a[p]="menu-item-icon","smallicons"===i?(m(a,"height","1.2em"),m(a,"width","1.2em"),m(a,"vertical-align","middle")):(m(a,"height","32px"),m(a,"width","32px"),m(a,"display","block"),m(a,"margin","0 auto")),a.$20g=y.icon,c(C,a)}C[p]="header-item",m(C,"display","inline-block"),m(C,"vertical-align","top"),m(C,"padding","0 1.2em"),m(C,"line-height","1.8em"),"largeicons"===i&&m(C,"text-align","center"),m(C,"background-color","rgba(0,0,0,0)"),C.setAttribute("data-index",k),g.$16g[k]=y.items,B[J]=y.label,"iconsonly"!==i&&c(C,B),c(l,C)}c(Z,l)}},showDropdownMenu:function(P){var $=this,R=$.$16g[P],g=$.$1g,q=$._view.children[0].children[P],S=$.$17g;if(q&&q!==S){S&&$.hideDropdownMenu();var L=q.getBoundingClientRect(),s=e.getWindowInfo();$.$17g=q,g.setItems(R),g.show(L.left+s.left,L.top+L.height+s.top,!1)}},hideDropdownMenu:function(){this.$1g.hide()},getItemByProperty:function(M,K){var N=this,o=N._items;return o&&0!==o.length?N.$1g.getItemByProperty(M,K,o):Z},$12g:function(){var h=this,c=h.$17g;c.style.background=h.$14g,c.style.color=h.$15g,h._autoShow||R(o(),g?"touchstart":"mousedown",h.$9b)},$11g:function(){var Q=this,p=Q.$17g;p&&(p.style.background="",p.style.color="",Q.$17g=Z),U(o(),g?"touchstart":"mousedown",Q.$9b)},$10g:function(g){var F=this,m=F._view,T=F.$1g,b=m.children[0];!o().body.contains(m)||b.contains(g.target)||T._view.contains(g.target)||F.hideDropdownMenu()},$13g:function(M){var V=this,x=V.$1g;o().body.contains(V._view)&&x.$13b.$4b.call(x.$13b,M,V._items)},setAutoShow:function(S){var l=this,p=l.$1g,e=l._view;l._autoShow!==S&&(l._autoShow?(U(e,"mouseover",l.$2g),U(e,"mouseout",l.$4g),U(p._view,"mouseout",l.$4g),g||(R(e,"mouseover",l.$8g),R(e,"mouseout",l.$8g)),R(e,g?"touchstart":"mousedown",l.$6g)):(U(e,"mouseover",l.$8g),U(e,"mouseout",l.$8g),U(e,g?"touchstart":"mousedown",l.$6g),U(o(),g?"touchstart":"mousedown",l.$9b),g||(R(e,"mouseover",l.$2g),R(e,"mouseout",l.$4g),R(p._view,"mouseout",l.$4g))),l._autoShow=S)},$3g:function(g){var q=this,N=q._view.children[0],V=g.target;if(N!==V&&N.contains(V)){for(;"header-item"!==V[p];)V=V.parentNode;q.showDropdownMenu(V.getAttribute("data-index"))}},$5g:function(L){var $=this,N=$._view.children[0],M=$.$1g,Q=L.target,P=L.relatedTarget;!N.contains(Q)&&!M._view.contains(Q)||N.contains(P)||M._view.contains(P)||$.hideDropdownMenu()},$7g:function(n){n.preventDefault();var N=this,j=N._view.children[0],E=N.$1g,Y=n.target;if(e.isLeftButton(n)&&j!==Y&&j.contains(Y))if(g){for(;"header-item"!==Y[p];)Y=Y.parentNode;var K=Y.getAttribute("data-index"),E=N.$1g,k=N._view.children[0].children[K],v=N.$17g;E.isShowing()&&N.hideDropdownMenu(),k!==v&&N.showDropdownMenu(K)}else if(E.isShowing())N.hideDropdownMenu();else{for(;"header-item"!==Y[p];)Y=Y.parentNode;N.showDropdownMenu(Y.getAttribute("data-index"))}},$9g:function(u){var X=this,G=X._view,B=X.$1g,P=u.target;if(G.contains(P)){for(var O=G.querySelectorAll(".header-item"),z=Z,U=0;U<O.length;U++){var N=O[U];N.style.background="",N.style.color="","mouseover"===u.type?N.contains(P)&&(z=N):"mouseout"===u.type&&B.isShowing()&&X.$17g===N&&(z=N)}B.isShowing()&&(z||(z=X.$17g),X.showDropdownMenu(z.getAttribute("data-index"))),z&&(z.style.background=X.$14g,z.style.color=X.$15g)}},getShowingMenuIndex:function(){var b=this.$17g;return b?b.getAttribute("data-index"):-1},addTo:function(H){var T=this,l=T._view;c(H,l),T.invalidate()},dispose:function(){var v=this,P=v._view,x=v.$1g;P&&(v._autoShow?(U(P,"mouseover",v.$2g),U(P,"mouseout",v.$4g),U(x._view,"mouseout",v.$4g)):(U(P,"mouseover",v.$8g),U(P,"mouseout",v.$8g),U(P,g?"touchstart":"mousedown",v.$6g),U(o(),g?"touchstart":"mousedown",v.$9b)),U(o(),"keydown",v.$3b),x.dispose(),P.parentNode&&T(P.parentNode,P),v._view=v.$1g=v.$16g=v._items=v.$17g=v.$2g=v.$4g=v.$6g=v.$8g=v.$9b=v.$3b=Z)},$19g:function(g,E,m,N){var s=$.initContext(g);$.translateAndScale(s,0,0,1),s.clearRect(0,0,m,N),e.drawStretchImage(s,e.getImage(E),"fill",0,0,m,N),s.restore()},validateImpl:function(){var o,t,z,v=this,R=v._view,g=R.querySelectorAll(".menu-item-icon");for(z=0;z<g.length;z++){var F=g[z];o=F.clientWidth,t=F.clientHeight,o&&t&&($.setCanvas(F,o,t),v.$19g(F,e.getImage(F.$20g),o,t))}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);